import{u as f,r as i,j as a,v as o,t as c}from"./index-Bpz0FMYO.js";import{B as w}from"./button-DIaYmcs-.js";import{I as p}from"./input-DG_X0Bn_.js";import{L as x}from"./label-0tM5ApCS.js";import{l as v}from"./logo-CU3fsl7Q.js";import{M as j}from"./mail-CumSC8Q6.js";import{L as N}from"./lock-B0Pbul_F.js";const E=()=>{const h=f(),[n,l]=i.useState(!1),[t,m]=i.useState(!1),[e,u]=i.useState({email:"",password:""}),d=r=>{u({...e,[r.target.name]:r.target.value})},g=async r=>{if(r.preventDefault(),!e.email||!e.password){o({title:"Campos obrigatórios",description:"Preencha email e senha.",variant:"destructive"});return}l(!0);try{if(t){const{error:s}=await c.auth.signUp({email:e.email,password:e.password,options:{emailRedirectTo:`${window.location.origin}/admin`}});if(s)throw s;o({title:"Conta criada!",description:"Você já pode fazer login."}),m(!1)}else{const{error:s}=await c.auth.signInWithPassword({email:e.email,password:e.password});if(s)throw s;h("/admin")}}catch(s){o({title:"Erro",description:s.message||"Erro ao autenticar.",variant:"destructive"})}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("img",{src:v,alt:"Sociedade Alternativa",className:"h-20 w-20 mx-auto mb-4"}),a.jsx("h1",{className:"text-3xl font-display gradient-text",children:"ÁREA ADMINISTRATIVA"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Sociedade Alternativa"})]}),a.jsxs("form",{onSubmit:g,className:"bg-card p-8 rounded-lg gradient-border space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(x,{htmlFor:"email",className:"flex items-center gap-2",children:[a.jsx(j,{className:"h-4 w-4 text-primary"}),"Email"]}),a.jsx(p,{id:"email",name:"email",type:"email",value:e.email,onChange:d,placeholder:"admin@sociedadealternativa.com",className:"bg-secondary border-border"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(x,{htmlFor:"password",className:"flex items-center gap-2",children:[a.jsx(N,{className:"h-4 w-4 text-primary"}),"Senha"]}),a.jsx(p,{id:"password",name:"password",type:"password",value:e.password,onChange:d,placeholder:"••••••••",className:"bg-secondary border-border"})]}),a.jsx(w,{type:"submit",disabled:n,className:"w-full h-12 font-display tracking-wider bg-gradient-to-r from-warm-yellow via-warm-orange to-warm-red hover:opacity-90 text-primary-foreground",children:n?"CARREGANDO...":t?"CRIAR CONTA":"ENTRAR"}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>m(!t),className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:t?"Já tem conta? Fazer login":"Criar nova conta"})})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsx("a",{href:"/",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"← Voltar para a loja"})})]})})};export{E as default};
