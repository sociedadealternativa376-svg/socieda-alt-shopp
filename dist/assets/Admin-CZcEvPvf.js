import{c as ie,r,e as Ue,f as A,g as Re,j as e,P as k,h as P,i as Xt,b as T,X as $e,k as Zt,l as ze,A as Jt,m as Z,n as We,D as Qt,C as es,o as ts,V as ss,p as os,q as as,s as rs,R as ns,t as ae,v as W,u as is}from"./index-Bpz0FMYO.js";import{B as le}from"./button-DIaYmcs-.js";import{l as cs}from"./logo-CU3fsl7Q.js";import{I as pe}from"./input-DG_X0Bn_.js";import{L as oe}from"./label-0tM5ApCS.js";import{O as Ke,C as qe,a as ls,T as Ge,D as Ye,P as ds,R as us,b as ps,h as ms,u as fs,c as hs,F as xs,d as Be,e as gs,f as vs,g as ys,L as ws}from"./index-BECU9pNv.js";import{C as Ss}from"./check-C7VJxLvu.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ie("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=ie("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=ie("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ie("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);function Ze(s){const o=r.useRef({value:s,previous:s});return r.useMemo(()=>(o.current.value!==s&&(o.current.previous=o.current.value,o.current.value=s),o.current.previous),[s])}var ge="Switch",[_s,Co]=Ue(ge),[Ts,Is]=_s(ge),Je=r.forwardRef((s,o)=>{const{__scopeSwitch:t,name:i,checked:d,defaultChecked:m,required:c,disabled:l,value:n="on",onCheckedChange:u,form:x,...v}=s,[S,b]=r.useState(null),N=A(o,a=>b(a)),p=r.useRef(!1),g=S?x||!!S.closest("form"):!0,[y,f]=Re({prop:d,defaultProp:m??!1,onChange:u,caller:ge});return e.jsxs(Ts,{scope:t,checked:y,disabled:l,children:[e.jsx(k.button,{type:"button",role:"switch","aria-checked":y,"aria-required":c,"data-state":st(y),"data-disabled":l?"":void 0,disabled:l,value:n,...v,ref:N,onClick:P(s.onClick,a=>{f(w=>!w),g&&(p.current=a.isPropagationStopped(),p.current||a.stopPropagation())})}),g&&e.jsx(tt,{control:S,bubbles:!p.current,name:i,value:n,checked:y,required:c,disabled:l,form:x,style:{transform:"translateX(-100%)"}})]})});Je.displayName=ge;var Qe="SwitchThumb",et=r.forwardRef((s,o)=>{const{__scopeSwitch:t,...i}=s,d=Is(Qe,t);return e.jsx(k.span,{"data-state":st(d.checked),"data-disabled":d.disabled?"":void 0,...i,ref:o})});et.displayName=Qe;var Rs="SwitchBubbleInput",tt=r.forwardRef(({__scopeSwitch:s,control:o,checked:t,bubbles:i=!0,...d},m)=>{const c=r.useRef(null),l=A(c,m),n=Ze(t),u=Xt(o);return r.useEffect(()=>{const x=c.current;if(!x)return;const v=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(v,"checked").set;if(n!==t&&b){const N=new Event("click",{bubbles:i});b.call(x,t),x.dispatchEvent(N)}},[n,t,i]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...d,tabIndex:-1,ref:l,style:{...d.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});tt.displayName=Rs;function st(s){return s?"checked":"unchecked"}var ot=Je,Es=et;const Ee=r.forwardRef(({className:s,...o},t)=>e.jsx(ot,{className:T("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",s),...o,ref:t,children:e.jsx(Es,{className:T("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ee.displayName=ot.displayName;const at=r.forwardRef(({className:s,...o},t)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:t,className:T("w-full caption-bottom text-sm",s),...o})}));at.displayName="Table";const rt=r.forwardRef(({className:s,...o},t)=>e.jsx("thead",{ref:t,className:T("[&_tr]:border-b",s),...o}));rt.displayName="TableHeader";const nt=r.forwardRef(({className:s,...o},t)=>e.jsx("tbody",{ref:t,className:T("[&_tr:last-child]:border-0",s),...o}));nt.displayName="TableBody";const Ps=r.forwardRef(({className:s,...o},t)=>e.jsx("tfoot",{ref:t,className:T("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...o}));Ps.displayName="TableFooter";const Pe=r.forwardRef(({className:s,...o},t)=>e.jsx("tr",{ref:t,className:T("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",s),...o}));Pe.displayName="TableRow";const Y=r.forwardRef(({className:s,...o},t)=>e.jsx("th",{ref:t,className:T("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...o}));Y.displayName="TableHead";const X=r.forwardRef(({className:s,...o},t)=>e.jsx("td",{ref:t,className:T("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...o}));X.displayName="TableCell";const ks=r.forwardRef(({className:s,...o},t)=>e.jsx("caption",{ref:t,className:T("mt-4 text-sm text-muted-foreground",s),...o}));ks.displayName="TableCaption";const Ds=us,Ms=ps,Os=ds,it=r.forwardRef(({className:s,...o},t)=>e.jsx(Ke,{ref:t,className:T("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...o}));it.displayName=Ke.displayName;const ct=r.forwardRef(({className:s,children:o,...t},i)=>e.jsxs(Os,{children:[e.jsx(it,{}),e.jsxs(qe,{ref:i,className:T("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t,children:[o,e.jsxs(ls,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ct.displayName=qe.displayName;const lt=({className:s,...o})=>e.jsx("div",{className:T("flex flex-col space-y-1.5 text-center sm:text-left",s),...o});lt.displayName="DialogHeader";const dt=r.forwardRef(({className:s,...o},t)=>e.jsx(Ge,{ref:t,className:T("text-lg font-semibold leading-none tracking-tight",s),...o}));dt.displayName=Ge.displayName;const As=r.forwardRef(({className:s,...o},t)=>e.jsx(Ye,{ref:t,className:T("text-sm text-muted-foreground",s),...o}));As.displayName=Ye.displayName;function Fe(s,[o,t]){return Math.min(t,Math.max(o,s))}var Ls=[" ","Enter","ArrowUp","ArrowDown"],Bs=[" ","Enter"],re="Select",[ve,ye,Hs]=Zt(re),[de,jo]=Ue(re,[Hs,ze]),we=ze(),[Vs,J]=de(re),[Fs,Us]=de(re),ut=s=>{const{__scopeSelect:o,children:t,open:i,defaultOpen:d,onOpenChange:m,value:c,defaultValue:l,onValueChange:n,dir:u,name:x,autoComplete:v,disabled:S,required:b,form:N}=s,p=we(o),[g,y]=r.useState(null),[f,a]=r.useState(null),[w,R]=r.useState(!1),E=gs(u),[D,B]=Re({prop:i,defaultProp:d??!1,onChange:m,caller:re}),[K,ee]=Re({prop:c,defaultProp:l,onChange:n,caller:re}),V=r.useRef(null),F=g?N||!!g.closest("form"):!0,[q,U]=r.useState(new Set),$=Array.from(q).map(M=>M.props.value).join(";");return e.jsx(ns,{...p,children:e.jsxs(Vs,{required:b,scope:o,trigger:g,onTriggerChange:y,valueNode:f,onValueNodeChange:a,valueNodeHasChildren:w,onValueNodeHasChildrenChange:R,contentId:Be(),value:K,onValueChange:ee,open:D,onOpenChange:B,dir:E,triggerPointerDownPosRef:V,disabled:S,children:[e.jsx(ve.Provider,{scope:o,children:e.jsx(Fs,{scope:s.__scopeSelect,onNativeOptionAdd:r.useCallback(M=>{U(H=>new Set(H).add(M))},[]),onNativeOptionRemove:r.useCallback(M=>{U(H=>{const z=new Set(H);return z.delete(M),z})},[]),children:t})}),F?e.jsxs(Ot,{"aria-hidden":!0,required:b,tabIndex:-1,name:x,autoComplete:v,value:K,onChange:M=>ee(M.target.value),disabled:S,form:N,children:[K===void 0?e.jsx("option",{value:""}):null,Array.from(q)]},$):null]})})};ut.displayName=re;var pt="SelectTrigger",mt=r.forwardRef((s,o)=>{const{__scopeSelect:t,disabled:i=!1,...d}=s,m=we(t),c=J(pt,t),l=c.disabled||i,n=A(o,c.onTriggerChange),u=ye(t),x=r.useRef("touch"),[v,S,b]=Lt(p=>{const g=u().filter(a=>!a.disabled),y=g.find(a=>a.value===c.value),f=Bt(g,p,y);f!==void 0&&c.onValueChange(f.value)}),N=p=>{l||(c.onOpenChange(!0),b()),p&&(c.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return e.jsx(Jt,{asChild:!0,...m,children:e.jsx(k.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":At(c.value)?"":void 0,...d,ref:n,onClick:P(d.onClick,p=>{p.currentTarget.focus(),x.current!=="mouse"&&N(p)}),onPointerDown:P(d.onPointerDown,p=>{x.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(N(p),p.preventDefault())}),onKeyDown:P(d.onKeyDown,p=>{const g=v.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&S(p.key),!(g&&p.key===" ")&&Ls.includes(p.key)&&(N(),p.preventDefault())})})})});mt.displayName=pt;var ft="SelectValue",ht=r.forwardRef((s,o)=>{const{__scopeSelect:t,className:i,style:d,children:m,placeholder:c="",...l}=s,n=J(ft,t),{onValueNodeHasChildrenChange:u}=n,x=m!==void 0,v=A(o,n.onValueNodeChange);return Z(()=>{u(x)},[u,x]),e.jsx(k.span,{...l,ref:v,style:{pointerEvents:"none"},children:At(n.value)?e.jsx(e.Fragment,{children:c}):m})});ht.displayName=ft;var $s="SelectIcon",xt=r.forwardRef((s,o)=>{const{__scopeSelect:t,children:i,...d}=s;return e.jsx(k.span,{"aria-hidden":!0,...d,ref:o,children:i||"▼"})});xt.displayName=$s;var zs="SelectPortal",gt=s=>e.jsx(as,{asChild:!0,...s});gt.displayName=zs;var ne="SelectContent",vt=r.forwardRef((s,o)=>{const t=J(ne,s.__scopeSelect),[i,d]=r.useState();if(Z(()=>{d(new DocumentFragment)},[]),!t.open){const m=i;return m?We.createPortal(e.jsx(yt,{scope:s.__scopeSelect,children:e.jsx(ve.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),m):null}return e.jsx(wt,{...s,ref:o})});vt.displayName=ne;var L=10,[yt,Q]=de(ne),Ws="SelectContentImpl",Ks=rs("SelectContent.RemoveScroll"),wt=r.forwardRef((s,o)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:d,onEscapeKeyDown:m,onPointerDownOutside:c,side:l,sideOffset:n,align:u,alignOffset:x,arrowPadding:v,collisionBoundary:S,collisionPadding:b,sticky:N,hideWhenDetached:p,avoidCollisions:g,...y}=s,f=J(ne,t),[a,w]=r.useState(null),[R,E]=r.useState(null),D=A(o,h=>w(h)),[B,K]=r.useState(null),[ee,V]=r.useState(null),F=ye(t),[q,U]=r.useState(!1),$=r.useRef(!1);r.useEffect(()=>{if(a)return ms(a)},[a]),fs();const M=r.useCallback(h=>{const[I,...O]=F().map(j=>j.ref.current),[_]=O.slice(-1),C=document.activeElement;for(const j of h)if(j===C||(j==null||j.scrollIntoView({block:"nearest"}),j===I&&R&&(R.scrollTop=0),j===_&&R&&(R.scrollTop=R.scrollHeight),j==null||j.focus(),document.activeElement!==C))return},[F,R]),H=r.useCallback(()=>M([B,a]),[M,B,a]);r.useEffect(()=>{q&&H()},[q,H]);const{onOpenChange:z,triggerPointerDownPosRef:G}=f;r.useEffect(()=>{if(a){let h={x:0,y:0};const I=_=>{var C,j;h={x:Math.abs(Math.round(_.pageX)-(((C=G.current)==null?void 0:C.x)??0)),y:Math.abs(Math.round(_.pageY)-(((j=G.current)==null?void 0:j.y)??0))}},O=_=>{h.x<=10&&h.y<=10?_.preventDefault():a.contains(_.target)||z(!1),document.removeEventListener("pointermove",I),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",O,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",O,{capture:!0})}}},[a,z,G]),r.useEffect(()=>{const h=()=>z(!1);return window.addEventListener("blur",h),window.addEventListener("resize",h),()=>{window.removeEventListener("blur",h),window.removeEventListener("resize",h)}},[z]);const[Se,fe]=Lt(h=>{const I=F().filter(C=>!C.disabled),O=I.find(C=>C.ref.current===document.activeElement),_=Bt(I,h,O);_&&setTimeout(()=>_.ref.current.focus())}),Ne=r.useCallback((h,I,O)=>{const _=!$.current&&!O;(f.value!==void 0&&f.value===I||_)&&(K(h),_&&($.current=!0))},[f.value]),be=r.useCallback(()=>a==null?void 0:a.focus(),[a]),ce=r.useCallback((h,I,O)=>{const _=!$.current&&!O;(f.value!==void 0&&f.value===I||_)&&V(h)},[f.value]),he=i==="popper"?ke:St,ue=he===ke?{side:l,sideOffset:n,align:u,alignOffset:x,arrowPadding:v,collisionBoundary:S,collisionPadding:b,sticky:N,hideWhenDetached:p,avoidCollisions:g}:{};return e.jsx(yt,{scope:t,content:a,viewport:R,onViewportChange:E,itemRefCallback:Ne,selectedItem:B,onItemLeave:be,itemTextRefCallback:ce,focusSelectedItem:H,selectedItemText:ee,position:i,isPositioned:q,searchRef:Se,children:e.jsx(hs,{as:Ks,allowPinchZoom:!0,children:e.jsx(xs,{asChild:!0,trapped:f.open,onMountAutoFocus:h=>{h.preventDefault()},onUnmountAutoFocus:P(d,h=>{var I;(I=f.trigger)==null||I.focus({preventScroll:!0}),h.preventDefault()}),children:e.jsx(Qt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:m,onPointerDownOutside:c,onFocusOutside:h=>h.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(he,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:h=>h.preventDefault(),...y,...ue,onPlaced:()=>U(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:P(y.onKeyDown,h=>{const I=h.ctrlKey||h.altKey||h.metaKey;if(h.key==="Tab"&&h.preventDefault(),!I&&h.key.length===1&&fe(h.key),["ArrowUp","ArrowDown","Home","End"].includes(h.key)){let _=F().filter(C=>!C.disabled).map(C=>C.ref.current);if(["ArrowUp","End"].includes(h.key)&&(_=_.slice().reverse()),["ArrowUp","ArrowDown"].includes(h.key)){const C=h.target,j=_.indexOf(C);_=_.slice(j+1)}setTimeout(()=>M(_)),h.preventDefault()}})})})})})})});wt.displayName=Ws;var qs="SelectItemAlignedPosition",St=r.forwardRef((s,o)=>{const{__scopeSelect:t,onPlaced:i,...d}=s,m=J(ne,t),c=Q(ne,t),[l,n]=r.useState(null),[u,x]=r.useState(null),v=A(o,D=>x(D)),S=ye(t),b=r.useRef(!1),N=r.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:y,focusSelectedItem:f}=c,a=r.useCallback(()=>{if(m.trigger&&m.valueNode&&l&&u&&p&&g&&y){const D=m.trigger.getBoundingClientRect(),B=u.getBoundingClientRect(),K=m.valueNode.getBoundingClientRect(),ee=y.getBoundingClientRect();if(m.dir!=="rtl"){const C=ee.left-B.left,j=K.left-C,te=D.left-j,se=D.width+te,Ce=Math.max(se,B.width),je=window.innerWidth-L,_e=Fe(j,[L,Math.max(L,je-Ce)]);l.style.minWidth=se+"px",l.style.left=_e+"px"}else{const C=B.right-ee.right,j=window.innerWidth-K.right-C,te=window.innerWidth-D.right-j,se=D.width+te,Ce=Math.max(se,B.width),je=window.innerWidth-L,_e=Fe(j,[L,Math.max(L,je-Ce)]);l.style.minWidth=se+"px",l.style.right=_e+"px"}const V=S(),F=window.innerHeight-L*2,q=p.scrollHeight,U=window.getComputedStyle(u),$=parseInt(U.borderTopWidth,10),M=parseInt(U.paddingTop,10),H=parseInt(U.borderBottomWidth,10),z=parseInt(U.paddingBottom,10),G=$+M+q+z+H,Se=Math.min(g.offsetHeight*5,G),fe=window.getComputedStyle(p),Ne=parseInt(fe.paddingTop,10),be=parseInt(fe.paddingBottom,10),ce=D.top+D.height/2-L,he=F-ce,ue=g.offsetHeight/2,h=g.offsetTop+ue,I=$+M+h,O=G-I;if(I<=ce){const C=V.length>0&&g===V[V.length-1].ref.current;l.style.bottom="0px";const j=u.clientHeight-p.offsetTop-p.offsetHeight,te=Math.max(he,ue+(C?be:0)+j+H),se=I+te;l.style.height=se+"px"}else{const C=V.length>0&&g===V[0].ref.current;l.style.top="0px";const te=Math.max(ce,$+p.offsetTop+(C?Ne:0)+ue)+O;l.style.height=te+"px",p.scrollTop=I-ce+p.offsetTop}l.style.margin=`${L}px 0`,l.style.minHeight=Se+"px",l.style.maxHeight=F+"px",i==null||i(),requestAnimationFrame(()=>b.current=!0)}},[S,m.trigger,m.valueNode,l,u,p,g,y,m.dir,i]);Z(()=>a(),[a]);const[w,R]=r.useState();Z(()=>{u&&R(window.getComputedStyle(u).zIndex)},[u]);const E=r.useCallback(D=>{D&&N.current===!0&&(a(),f==null||f(),N.current=!1)},[a,f]);return e.jsx(Ys,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:b,onScrollButtonChange:E,children:e.jsx("div",{ref:n,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:e.jsx(k.div,{...d,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...d.style}})})})});St.displayName=qs;var Gs="SelectPopperPosition",ke=r.forwardRef((s,o)=>{const{__scopeSelect:t,align:i="start",collisionPadding:d=L,...m}=s,c=we(t);return e.jsx(es,{...c,...m,ref:o,align:i,collisionPadding:d,style:{boxSizing:"border-box",...m.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ke.displayName=Gs;var[Ys,He]=de(ne,{}),De="SelectViewport",Nt=r.forwardRef((s,o)=>{const{__scopeSelect:t,nonce:i,...d}=s,m=Q(De,t),c=He(De,t),l=A(o,m.onViewportChange),n=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(ve.Slot,{scope:t,children:e.jsx(k.div,{"data-radix-select-viewport":"",role:"presentation",...d,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...d.style},onScroll:P(d.onScroll,u=>{const x=u.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:S}=c;if(S!=null&&S.current&&v){const b=Math.abs(n.current-x.scrollTop);if(b>0){const N=window.innerHeight-L*2,p=parseFloat(v.style.minHeight),g=parseFloat(v.style.height),y=Math.max(p,g);if(y<N){const f=y+b,a=Math.min(N,f),w=f-a;v.style.height=a+"px",v.style.bottom==="0px"&&(x.scrollTop=w>0?w:0,v.style.justifyContent="flex-end")}}}n.current=x.scrollTop})})})]})});Nt.displayName=De;var bt="SelectGroup",[Xs,Zs]=de(bt),Js=r.forwardRef((s,o)=>{const{__scopeSelect:t,...i}=s,d=Be();return e.jsx(Xs,{scope:t,id:d,children:e.jsx(k.div,{role:"group","aria-labelledby":d,...i,ref:o})})});Js.displayName=bt;var Ct="SelectLabel",jt=r.forwardRef((s,o)=>{const{__scopeSelect:t,...i}=s,d=Zs(Ct,t);return e.jsx(k.div,{id:d.id,...i,ref:o})});jt.displayName=Ct;var xe="SelectItem",[Qs,_t]=de(xe),Tt=r.forwardRef((s,o)=>{const{__scopeSelect:t,value:i,disabled:d=!1,textValue:m,...c}=s,l=J(xe,t),n=Q(xe,t),u=l.value===i,[x,v]=r.useState(m??""),[S,b]=r.useState(!1),N=A(o,f=>{var a;return(a=n.itemRefCallback)==null?void 0:a.call(n,f,i,d)}),p=Be(),g=r.useRef("touch"),y=()=>{d||(l.onValueChange(i),l.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Qs,{scope:t,value:i,disabled:d,textId:p,isSelected:u,onItemTextChange:r.useCallback(f=>{v(a=>a||((f==null?void 0:f.textContent)??"").trim())},[]),children:e.jsx(ve.ItemSlot,{scope:t,value:i,disabled:d,textValue:x,children:e.jsx(k.div,{role:"option","aria-labelledby":p,"data-highlighted":S?"":void 0,"aria-selected":u&&S,"data-state":u?"checked":"unchecked","aria-disabled":d||void 0,"data-disabled":d?"":void 0,tabIndex:d?void 0:-1,...c,ref:N,onFocus:P(c.onFocus,()=>b(!0)),onBlur:P(c.onBlur,()=>b(!1)),onClick:P(c.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:P(c.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:P(c.onPointerDown,f=>{g.current=f.pointerType}),onPointerMove:P(c.onPointerMove,f=>{var a;g.current=f.pointerType,d?(a=n.onItemLeave)==null||a.call(n):g.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:P(c.onPointerLeave,f=>{var a;f.currentTarget===document.activeElement&&((a=n.onItemLeave)==null||a.call(n))}),onKeyDown:P(c.onKeyDown,f=>{var w;((w=n.searchRef)==null?void 0:w.current)!==""&&f.key===" "||(Bs.includes(f.key)&&y(),f.key===" "&&f.preventDefault())})})})})});Tt.displayName=xe;var me="SelectItemText",It=r.forwardRef((s,o)=>{const{__scopeSelect:t,className:i,style:d,...m}=s,c=J(me,t),l=Q(me,t),n=_t(me,t),u=Us(me,t),[x,v]=r.useState(null),S=A(o,y=>v(y),n.onItemTextChange,y=>{var f;return(f=l.itemTextRefCallback)==null?void 0:f.call(l,y,n.value,n.disabled)}),b=x==null?void 0:x.textContent,N=r.useMemo(()=>e.jsx("option",{value:n.value,disabled:n.disabled,children:b},n.value),[n.disabled,n.value,b]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=u;return Z(()=>(p(N),()=>g(N)),[p,g,N]),e.jsxs(e.Fragment,{children:[e.jsx(k.span,{id:n.textId,...m,ref:S}),n.isSelected&&c.valueNode&&!c.valueNodeHasChildren?We.createPortal(m.children,c.valueNode):null]})});It.displayName=me;var Rt="SelectItemIndicator",Et=r.forwardRef((s,o)=>{const{__scopeSelect:t,...i}=s;return _t(Rt,t).isSelected?e.jsx(k.span,{"aria-hidden":!0,...i,ref:o}):null});Et.displayName=Rt;var Me="SelectScrollUpButton",Pt=r.forwardRef((s,o)=>{const t=Q(Me,s.__scopeSelect),i=He(Me,s.__scopeSelect),[d,m]=r.useState(!1),c=A(o,i.onScrollButtonChange);return Z(()=>{if(t.viewport&&t.isPositioned){let l=function(){const u=n.scrollTop>0;m(u)};const n=t.viewport;return l(),n.addEventListener("scroll",l),()=>n.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),d?e.jsx(Dt,{...s,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:n}=t;l&&n&&(l.scrollTop=l.scrollTop-n.offsetHeight)}}):null});Pt.displayName=Me;var Oe="SelectScrollDownButton",kt=r.forwardRef((s,o)=>{const t=Q(Oe,s.__scopeSelect),i=He(Oe,s.__scopeSelect),[d,m]=r.useState(!1),c=A(o,i.onScrollButtonChange);return Z(()=>{if(t.viewport&&t.isPositioned){let l=function(){const u=n.scrollHeight-n.clientHeight,x=Math.ceil(n.scrollTop)<u;m(x)};const n=t.viewport;return l(),n.addEventListener("scroll",l),()=>n.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),d?e.jsx(Dt,{...s,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:n}=t;l&&n&&(l.scrollTop=l.scrollTop+n.offsetHeight)}}):null});kt.displayName=Oe;var Dt=r.forwardRef((s,o)=>{const{__scopeSelect:t,onAutoScroll:i,...d}=s,m=Q("SelectScrollButton",t),c=r.useRef(null),l=ye(t),n=r.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return r.useEffect(()=>()=>n(),[n]),Z(()=>{var x;const u=l().find(v=>v.ref.current===document.activeElement);(x=u==null?void 0:u.ref.current)==null||x.scrollIntoView({block:"nearest"})},[l]),e.jsx(k.div,{"aria-hidden":!0,...d,ref:o,style:{flexShrink:0,...d.style},onPointerDown:P(d.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:P(d.onPointerMove,()=>{var u;(u=m.onItemLeave)==null||u.call(m),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:P(d.onPointerLeave,()=>{n()})})}),eo="SelectSeparator",Mt=r.forwardRef((s,o)=>{const{__scopeSelect:t,...i}=s;return e.jsx(k.div,{"aria-hidden":!0,...i,ref:o})});Mt.displayName=eo;var Ae="SelectArrow",to=r.forwardRef((s,o)=>{const{__scopeSelect:t,...i}=s,d=we(t),m=J(Ae,t),c=Q(Ae,t);return m.open&&c.position==="popper"?e.jsx(ts,{...d,...i,ref:o}):null});to.displayName=Ae;var so="SelectBubbleInput",Ot=r.forwardRef(({__scopeSelect:s,value:o,...t},i)=>{const d=r.useRef(null),m=A(i,d),c=Ze(o);return r.useEffect(()=>{const l=d.current;if(!l)return;const n=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(n,"value").set;if(c!==o&&x){const v=new Event("change",{bubbles:!0});x.call(l,o),l.dispatchEvent(v)}},[c,o]),e.jsx(k.select,{...t,style:{...ss,...t.style},ref:m,defaultValue:o})});Ot.displayName=so;function At(s){return s===""||s===void 0}function Lt(s){const o=os(s),t=r.useRef(""),i=r.useRef(0),d=r.useCallback(c=>{const l=t.current+c;o(l),function n(u){t.current=u,window.clearTimeout(i.current),u!==""&&(i.current=window.setTimeout(()=>n(""),1e3))}(l)},[o]),m=r.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,d,m]}function Bt(s,o,t){const d=o.length>1&&Array.from(o).every(u=>u===o[0])?o[0]:o,m=t?s.indexOf(t):-1;let c=oo(s,Math.max(m,0));d.length===1&&(c=c.filter(u=>u!==t));const n=c.find(u=>u.textValue.toLowerCase().startsWith(d.toLowerCase()));return n!==t?n:void 0}function oo(s,o){return s.map((t,i)=>s[(o+i)%s.length])}var ao=ut,Ht=mt,ro=ht,no=xt,io=gt,Vt=vt,co=Nt,Ft=jt,Ut=Tt,lo=It,uo=Et,$t=Pt,zt=kt,Wt=Mt;const po=ao,mo=ro,Kt=r.forwardRef(({className:s,children:o,...t},i)=>e.jsxs(Ht,{ref:i,className:T("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[o,e.jsx(no,{asChild:!0,children:e.jsx(Xe,{className:"h-4 w-4 opacity-50"})})]}));Kt.displayName=Ht.displayName;const qt=r.forwardRef(({className:s,...o},t)=>e.jsx($t,{ref:t,className:T("flex cursor-default items-center justify-center py-1",s),...o,children:e.jsx(Ns,{className:"h-4 w-4"})}));qt.displayName=$t.displayName;const Gt=r.forwardRef(({className:s,...o},t)=>e.jsx(zt,{ref:t,className:T("flex cursor-default items-center justify-center py-1",s),...o,children:e.jsx(Xe,{className:"h-4 w-4"})}));Gt.displayName=zt.displayName;const Yt=r.forwardRef(({className:s,children:o,position:t="popper",...i},d)=>e.jsx(io,{children:e.jsxs(Vt,{ref:d,className:T("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...i,children:[e.jsx(qt,{}),e.jsx(co,{className:T("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:o}),e.jsx(Gt,{})]})}));Yt.displayName=Vt.displayName;const fo=r.forwardRef(({className:s,...o},t)=>e.jsx(Ft,{ref:t,className:T("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...o}));fo.displayName=Ft.displayName;const Le=r.forwardRef(({className:s,children:o,...t},i)=>e.jsxs(Ut,{ref:i,className:T("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",s),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(uo,{children:e.jsx(Ss,{className:"h-4 w-4"})})}),e.jsx(lo,{children:o})]}));Le.displayName=Ut.displayName;const ho=r.forwardRef(({className:s,...o},t)=>e.jsx(Wt,{ref:t,className:T("-mx-1 my-1 h-px bg-muted",s),...o}));ho.displayName=Wt.displayName;const Ie={code:"",discount_type:"percentage",discount_value:0,min_purchase:0,max_uses:null,expires_at:"",is_active:!0},xo=()=>{const[s,o]=r.useState([]),[t,i]=r.useState(!0),[d,m]=r.useState(!1),[c,l]=r.useState(null),[n,u]=r.useState(Ie);r.useEffect(()=>{x()},[]);const x=async()=>{i(!0);try{const{data:a,error:w}=await ae.from("coupons").select("*").order("created_at",{ascending:!1});if(w)throw w;o(a||[])}catch(a){console.error("Error fetching coupons:",a),W({title:"Erro",description:"Não foi possível carregar os cupons.",variant:"destructive"})}finally{i(!1)}},v=a=>{a?(l(a),u({code:a.code,discount_type:a.discount_type,discount_value:a.discount_value,min_purchase:a.min_purchase||0,max_uses:a.max_uses,expires_at:a.expires_at?a.expires_at.split("T")[0]:"",is_active:a.is_active??!0})):(l(null),u(Ie)),m(!0)},S=()=>{m(!1),l(null),u(Ie)},b=async a=>{var w;if(a.preventDefault(),!n.code.trim()){W({title:"Erro",description:"O código do cupom é obrigatório.",variant:"destructive"});return}try{const R={code:n.code.toUpperCase().trim(),discount_type:n.discount_type,discount_value:n.discount_value,min_purchase:n.min_purchase,max_uses:n.max_uses,expires_at:n.expires_at?new Date(n.expires_at+"T23:59:59").toISOString():null,is_active:n.is_active};if(c){const{error:E}=await ae.from("coupons").update(R).eq("id",c.id);if(E)throw E;W({title:"Sucesso!",description:"Cupom atualizado com sucesso."})}else{const{error:E}=await ae.from("coupons").insert(R);if(E)throw E;W({title:"Sucesso!",description:"Cupom criado com sucesso."})}S(),x()}catch(R){console.error("Error saving coupon:",R),W({title:"Erro",description:(w=R.message)!=null&&w.includes("unique")?"Já existe um cupom com este código.":"Não foi possível salvar o cupom.",variant:"destructive"})}},N=async a=>{try{const{error:w}=await ae.from("coupons").update({is_active:!a.is_active}).eq("id",a.id);if(w)throw w;o(R=>R.map(E=>E.id===a.id?{...E,is_active:!E.is_active}:E)),W({title:a.is_active?"Cupom desativado":"Cupom ativado",description:`O cupom ${a.code} foi ${a.is_active?"desativado":"ativado"}.`})}catch(w){console.error("Error toggling coupon:",w),W({title:"Erro",description:"Não foi possível atualizar o cupom.",variant:"destructive"})}},p=async a=>{if(confirm(`Tem certeza que deseja excluir o cupom ${a.code}?`))try{const{error:w}=await ae.from("coupons").delete().eq("id",a.id);if(w)throw w;o(R=>R.filter(E=>E.id!==a.id)),W({title:"Cupom excluído",description:`O cupom ${a.code} foi removido.`})}catch(w){console.error("Error deleting coupon:",w),W({title:"Erro",description:"Não foi possível excluir o cupom.",variant:"destructive"})}},g=a=>a.discount_type==="percentage"?`${a.discount_value}%`:`R$ ${a.discount_value.toFixed(2)}`,y=a=>a?new Date(a).toLocaleDateString("pt-BR"):"-",f=a=>a?new Date(a)<new Date:!1;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-display gradient-text",children:"Cupons de Desconto"}),e.jsxs(Ds,{open:d,onOpenChange:m,children:[e.jsx(Ms,{asChild:!0,children:e.jsxs(le,{onClick:()=>v(),className:"bg-primary hover:bg-primary/90",children:[e.jsx(vs,{className:"h-4 w-4 mr-2"}),"Novo Cupom"]})}),e.jsxs(ct,{className:"sm:max-w-md",children:[e.jsx(lt,{children:e.jsx(dt,{className:"font-display",children:c?"Editar Cupom":"Novo Cupom"})}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(oe,{htmlFor:"code",children:"Código do Cupom"}),e.jsx(pe,{id:"code",value:n.code,onChange:a=>u({...n,code:a.target.value.toUpperCase()}),placeholder:"Ex: DESCONTO10",className:"uppercase"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(oe,{htmlFor:"discount_type",children:"Tipo de Desconto"}),e.jsxs(po,{value:n.discount_type,onValueChange:a=>u({...n,discount_type:a}),children:[e.jsx(Kt,{children:e.jsx(mo,{})}),e.jsxs(Yt,{children:[e.jsx(Le,{value:"percentage",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4"}),"Porcentagem"]})}),e.jsx(Le,{value:"fixed",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-4 w-4"}),"Valor Fixo"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(oe,{htmlFor:"discount_value",children:["Valor ",n.discount_type==="percentage"?"(%)":"(R$)"]}),e.jsx(pe,{id:"discount_value",type:"number",min:"0",step:n.discount_type==="percentage"?"1":"0.01",value:n.discount_value,onChange:a=>u({...n,discount_value:parseFloat(a.target.value)||0})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(oe,{htmlFor:"min_purchase",children:"Compra Mínima (R$)"}),e.jsx(pe,{id:"min_purchase",type:"number",min:"0",step:"0.01",value:n.min_purchase,onChange:a=>u({...n,min_purchase:parseFloat(a.target.value)||0})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(oe,{htmlFor:"max_uses",children:"Máx. de Usos"}),e.jsx(pe,{id:"max_uses",type:"number",min:"0",value:n.max_uses||"",onChange:a=>u({...n,max_uses:a.target.value?parseInt(a.target.value):null}),placeholder:"Ilimitado"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(oe,{htmlFor:"expires_at",children:"Data de Expiração"}),e.jsx(pe,{id:"expires_at",type:"date",value:n.expires_at,onChange:a=>u({...n,expires_at:a.target.value})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(oe,{htmlFor:"is_active",children:"Cupom Ativo"}),e.jsx(Ee,{id:"is_active",checked:n.is_active,onCheckedChange:a=>u({...n,is_active:a})})]}),e.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[e.jsxs(le,{type:"button",variant:"outline",onClick:S,children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),e.jsxs(le,{type:"submit",children:[e.jsx(Cs,{className:"h-4 w-4 mr-2"}),c?"Salvar":"Criar"]})]})]})]})]})]}),t?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"Carregando cupons..."})}):s.length===0?e.jsxs("div",{className:"text-center py-12 bg-card rounded-lg",children:[e.jsx(Te,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhum cupom cadastrado."})]}):e.jsx("div",{className:"bg-card rounded-lg overflow-hidden",children:e.jsxs(at,{children:[e.jsx(rt,{children:e.jsxs(Pe,{children:[e.jsx(Y,{children:"Código"}),e.jsx(Y,{children:"Desconto"}),e.jsx(Y,{className:"hidden md:table-cell",children:"Mín. Compra"}),e.jsx(Y,{className:"hidden md:table-cell",children:"Usos"}),e.jsx(Y,{className:"hidden sm:table-cell",children:"Expira"}),e.jsx(Y,{children:"Status"}),e.jsx(Y,{className:"text-right",children:"Ações"})]})}),e.jsx(nt,{children:s.map(a=>e.jsxs(Pe,{className:!a.is_active||f(a.expires_at)?"opacity-60":"",children:[e.jsx(X,{className:"font-mono font-semibold",children:a.code}),e.jsx(X,{children:e.jsxs("span",{className:"flex items-center gap-1",children:[a.discount_type==="percentage"?e.jsx(Te,{className:"h-3 w-3 text-primary"}):e.jsx(Ve,{className:"h-3 w-3 text-primary"}),g(a)]})}),e.jsx(X,{className:"hidden md:table-cell",children:a.min_purchase?`R$ ${a.min_purchase}`:"-"}),e.jsxs(X,{className:"hidden md:table-cell",children:[a.used_count||0,"/",a.max_uses||"∞"]}),e.jsxs(X,{className:`hidden sm:table-cell ${f(a.expires_at)?"text-destructive":""}`,children:[y(a.expires_at),f(a.expires_at)&&e.jsx("span",{className:"text-xs block text-destructive",children:"Expirado"})]}),e.jsx(X,{children:e.jsx(Ee,{checked:a.is_active??!1,onCheckedChange:()=>N(a),className:"data-[state=checked]:bg-green-500"})}),e.jsx(X,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsx(le,{variant:"ghost",size:"icon",onClick:()=>v(a),className:"h-8 w-8 text-muted-foreground hover:text-primary",children:e.jsx(bs,{className:"h-4 w-4"})}),e.jsx(le,{variant:"ghost",size:"icon",onClick:()=>p(a),className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:e.jsx(ys,{className:"h-4 w-4"})})]})})]},a.id))})]})})]})},_o=()=>{const s=is();r.useEffect(()=>{o()},[]);const o=async()=>{const{data:{session:i}}=await ae.auth.getSession();i||s("/admin/login")},t=async()=>{await ae.auth.signOut(),s("/admin/login")};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"bg-card border-b border-border sticky top-0 z-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:cs,alt:"Sociedade Alternativa",className:"h-10 w-10"}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-xl gradient-text",children:"PAINEL ADMIN"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Sociedade Alternativa"})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(le,{variant:"ghost",size:"sm",onClick:t,className:"text-muted-foreground hover:text-destructive",children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"Sair"]})})]})}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[e.jsx(js,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-2xl font-display gradient-text",children:"Gerenciar Cupons"})]}),e.jsx(xo,{})]})]})};export{_o as default};
